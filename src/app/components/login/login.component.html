<section class="shadow py-2 rounded-2 container my-3">
    <h1 class="h2 text-main m-2">LOGIN NOW</h1>
     
    <form [formGroup]="loginForm" (ngSubmit)="loginSubmit()">

        <div class="my-2">
            <label for="email">Email</label>
            <input  id="email" type="email" class="form-control" formControlName = "email">
            @if (loginForm.get('email')?.errors && loginForm.get('email')?.touched) {
                <div class="alert alert-danger mt-2">
                    @if (loginForm.get('email')?.getError('required')) {
                        <p class="m-0">Email Is Required</p>
                    }
                    @else if (loginForm.get('email')?.getError('email')) {
                        <p class="m-0">Email not Valid</p>
                        <p class="m-0">example&#64;xxxx.com</p>
                    }
                </div>
            }
        </div>

        <div class="my-2">
            <label for="password">Password</label>
            <input  id="password" type="password" class="form-control" formControlName = "password">

            @if (loginForm.get('password')?.errors && loginForm.get('password')?.touched) 
            {
                <div class="alert alert-danger mt-2">
                    @if (loginForm.get('password')?.getError('required')) {
                        <p class="m-0">Password Is Required</p>
                    }
                    @else if(loginForm.get('password')?.getError('pattern')) {
                        <p class="m-0">Password Should be more than or equal 6 chars</p>
                        
                    }
                </div>
            }
        </div>

        <a routerLink="/forgot" class="link">Forgot Password</a>


        <button [disabled]="loginForm.invalid  || isloading" class="btn-main mx-auto d-block mt-3">
            login
            @if (isloading) {
                <i class="fas fa-spin fa-spinner"></i>
            }
        
        </button>

        @if (messageError) {
            <p class="alert alert-danger m-0 mt-2">{{messageError}}</p>

        }

    </form>

</section>