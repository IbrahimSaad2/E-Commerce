<section>
  <h1 class="text-main text-center my-4">All Products</h1>
    <div class="container-fluid my-4">
      <input [(ngModel)]="text" type="search" placeholder="Serach By Name..."  class="form-control my-3 w-50 mx-auto">
      <div class="row g-3">
       @for (product of listProduct|search:text; track product.id) {
          <div class="col-md-2">
              <div class="product p-2">
              <div [routerLink] = "['/detalis', product.id]" class="cursor-pointer">
                  <img [src]="product.imageCover" class="w-100" [alt]="product.title" />
                  <h2 class="small text-main mt-1">{{product.category.name}}</h2>
                  <h3 class="h6">{{product.title.split(' ',2).join(' ')}}</h3>
                  <div class="d-flex justify-content-between align-items-center">
                    <span>{{product.price}} EGP</span>
                    <div>
                      <span><i class="fas fa-star rating-color"></i></span>
                      <span>{{product.ratingsAverage}}</span>
                    </div>
                  </div>
                </div>
                <div class="d-flex">
                  @if (idProductWishlist.includes(product.id)) {
                    <i (click)="removeWishList(product.id)" class="fa-solid fa-heart fa-xl mx-auto mt-4  cursor-pointer" style="color: red;"></i>
                  }
                  @else {
                    <i (click)="addWishList(product.id)" class="fa-solid fa-heart fa-xl mx-auto mt-4  cursor-pointer"></i>
                  }
                  <button (click)="addCart(product.id)" class="btn-main w-75 mt-2 ms-auto d-block">Add To Cart</button>
                </div>              </div>
            </div>
       }
      </div>
    </div>
  </section>